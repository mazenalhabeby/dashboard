{"version":3,"sources":["../../../shared/common/library/helpers/history.js","../../../shared/isomorphic/config/auth0.config.js","../../../shared/isomorphic/containers/Authentication/Auth0/Auth0.js","../../../shared/isomorphic/containers/Authentication/Auth0/Auth0Callback.js","../../../shared/isomorphic/components/Feedback/Notification.js"],"names":["createBrowserHistory","forceRefresh","clientID","domain","allowedConnections","rememberLastLogin","language","closable","options","auth","autoParseHash","responseType","redirect","redirectUrl","languageDictionary","title","emailInputPlaceholder","passwordInputPlaceholder","theme","labeledSubmitButton","logo","primaryColor","authButtons","connectionName","displayName","foregroundColor","Auth0","lock","Auth0Lock","Auth0Config","login","show","handleAuthentication","on","setSession","error","notification","authResult","expiresAt","JSON","stringify","expiresIn","Date","getTime","localStorage","setItem","accessToken","idToken","history","replace","logout","removeItem","isAuthenticated","parse","getItem","EventEmitter","Auth0Callback","useEffect","authActions"],"mappings":"wLAEeA,cAAqB,CAClCC,cAAc,ICHD,GACbC,SAAU,KACVC,OAAQ,iCACRC,mBAAoB,CAAC,oCACrBC,mBAAmB,EACnBC,SAAU,KACVC,UAAU,EACVC,QAAS,CACPC,KAAM,CACJC,eAAe,EACfC,aAAc,iBACdC,UAAU,EACVC,YAGM,4DAERC,mBAAoB,CAClBC,MAAO,aACPC,sBAAuB,iBACvBC,yBAA0B,YAE5BC,MAAO,CACLC,qBAAqB,EACrBC,KAAM,gBACNC,aAAc,UACdC,YAAa,CACXC,eAAgB,CACdC,YAAa,SACbH,aAAc,UACdI,gBAAiB,e,SCxBrBC,E,2MACJC,KAAO,IAAIC,IACTC,EAAY3B,SACZ2B,EAAY1B,OACZ0B,EAAYrB,S,EAGdsB,MAAQ,WACD,EAAKH,MAGV,EAAKA,KAAKI,Q,EAEZC,qBAAuB,WAErB,EAAKL,KAAKM,GAAG,gBAAiB,EAAKC,YAEnC,EAAKP,KAAKM,GAAG,uBAAuB,SAAAE,GAAK,OACvCC,YAAa,QAAS,8B,EAG1BF,WAAa,SAAAG,GAEX,IAAIC,EAAYC,KAAKC,UACI,IAAvBH,EAAWI,WAAmB,IAAIC,MAAOC,WAE3CC,aAAaC,QAAQ,eAAgBR,EAAWS,aAChDF,aAAaC,QAAQ,WAAYR,EAAWU,SAC5CH,aAAaC,QAAQ,aAAcP,GAEnCU,EAAQC,QAAQ,e,EAElBC,OAAS,WAEPN,aAAaO,WAAW,gBACxBP,aAAaO,WAAW,YACxBP,aAAaO,WAAW,cAExBH,EAAQC,QAAQ,M,EAGlBG,gBAAkB,WAChB,IAAId,EAAYC,KAAKc,MAAMT,aAAaU,QAAQ,cAChD,OAAO,IAAIZ,MAAOC,UAAYL,G,6BA3CdiB,gBA8CL,QAAI7B,G,kCCpDnB,6CAYe8B,UATO,WAMpB,OALAC,qBAAU,WACR/B,IAAMM,uBACN0B,IAAY5B,UACX,CAACJ,IAAMM,uBAEH,4C,qDCPM","file":"static/js/119.55491d5d.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory({\n  forceRefresh: true,\n});\n","export default {\n  clientID: '11',\n  domain: 'dashboard.leagueofpharaohs.com',\n  allowedConnections: ['Username-Password-Authentication'],\n  rememberLastLogin: true,\n  language: 'en',\n  closable: true,\n  options: {\n    auth: {\n      autoParseHash: true,\n      responseType: 'token id_token',\n      redirect: true,\n      redirectUrl:\n        process.env.NODE_ENV !== 'production'\n          ? 'http://localhost:3000/auth0loginCallback'\n          : 'http://dashboard.leagueofpharaohs.com/auth0loginCallback',\n    },\n    languageDictionary: {\n      title: 'Isomorphic',\n      emailInputPlaceholder: 'demo@gmail.com',\n      passwordInputPlaceholder: 'demodemo',\n    },\n    theme: {\n      labeledSubmitButton: true,\n      logo: 'your_logo_url',\n      primaryColor: '#E14615',\n      authButtons: {\n        connectionName: {\n          displayName: 'Log In',\n          primaryColor: '#b7b7b7',\n          foregroundColor: '#000000',\n        },\n      },\n    },\n  },\n};\n","import { EventEmitter } from 'events';\nimport Auth0Lock from 'auth0-lock';\nimport history from '@iso/lib/helpers/history';\nimport Auth0Config from '@iso/config/auth0.config';\nimport notification from '@iso/components/Feedback/Notification';\n\nclass Auth0 extends EventEmitter {\n  lock = new Auth0Lock(\n    Auth0Config.clientID,\n    Auth0Config.domain,\n    Auth0Config.options\n  );\n\n  login = () => {\n    if (!this.lock) {\n      return;\n    }\n    this.lock.show();\n  };\n  handleAuthentication = () => {\n    // Add callback Lock's `authenticated` event\n    this.lock.on('authenticated', this.setSession);\n    // Add callback for Lock's `authorization_error` event\n    this.lock.on('authorization_error', error =>\n      notification('error', 'Wrong mail or password')\n    );\n  };\n  setSession = authResult => {\n    // Set the time that the access token will expire at\n    let expiresAt = JSON.stringify(\n      authResult.expiresIn * 1000 + new Date().getTime()\n    );\n    localStorage.setItem('access_token', authResult.accessToken);\n    localStorage.setItem('id_token', authResult.idToken);\n    localStorage.setItem('expires_at', expiresAt);\n    // navigate to the dashboard route\n    history.replace('/dashboard');\n  };\n  logout = () => {\n    // Clear access token and ID token from local storage\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('id_token');\n    localStorage.removeItem('expires_at');\n    // navigate to the home route\n    history.replace('/');\n  };\n\n  isAuthenticated = () => {\n    let expiresAt = JSON.parse(localStorage.getItem('expiresAt'));\n    return new Date().getTime() < expiresAt;\n  };\n}\nexport default new Auth0();\n","import React, { useEffect } from 'react';\nimport Auth0 from './Auth0';\nimport authActions from '@iso/redux/auth/actions';\nconst Auth0Callback = () => {\n  useEffect(() => {\n    Auth0.handleAuthentication();\n    authActions.login();\n  }, [Auth0.handleAuthentication]);\n\n  return <p>Loading ...</p>;\n};\n\nexport default Auth0Callback;\n","import { notification } from 'antd';\n\nexport default notification;\n"],"sourceRoot":""}